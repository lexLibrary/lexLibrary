<!DOCTYPE html>
<html lang="en">

<head>
	[[template "header"]]
	<title>Administration - Lex Library</title>
</head>

<body>
	[[template "nav" .]]
	<div class="container grid-xl">
		<h1>Administration</h1>
		<ul class="tab tab-block">
			<li class='tab-item [[if eq .Tab "overview"]]active[[end]]'><a href="/admin">Overview</a></li>
			<li class='tab-item [[if eq .Tab "settings"]]active[[end]]'><a href="/admin/settings">Settings</a></li>
			<li class='tab-item [[if eq .Tab "logs"]]active[[end]]'><a href="/admin/logs">Logs</a></li>
			<li class='tab-item [[if eq .Tab "registration"]]active[[end]]'><a href="/admin/registration">Registration</a></li>
		</ul>
		<div>
			[[if eq .Tab "overview"]]
				[[template "overview"]]
			[[else if eq .Tab "settings"]]
				[[template "settings"]]
			[[else if eq .Tab "logs"]]
				[[template "logs"]]
			[[else if eq .Tab "registration"]]
				[[template "registration"]]
			[[end]]
		</div>
	</div>
</body>
<script src="/js/vue.js"></script>
<script src="/js/admin.js"></script>
</html>


[[define "overview"]]
<section class="pt-2">
	<div class="columns">
		<div class="column text-center">
			<h5 class="title"><small>Users</small></h5>
			<h3>[[.Overview.InstanceStats.Users]]</h3>
		</div>
		<div class="column text-center">
			<h5 class="title"><small>Logged In</small></h5>
			<h3>[[.Overview.InstanceStats.Sessions]]</h3>
		</div>
		<div class="column text-center">
			<h5 class="title"><small>Documents</small></h5>
			<h3>[[.Overview.InstanceStats.Documents]]</h3>
		</div>
	</div>
</section>
<section class="overview pt-4">
	<div class="columns">
		<div class="column">
			<h4>Configuration</h4>
			<p class="text-gray">Values are set by configuration or environment variable.</p>
			<table class="overview table">
				<tbody>
					<tr><td>Read Timeout</td><td>[[.WebConfig.ReadTimeout]]</td></tr>
					<tr><td>Write Timeout</td><td>[[.WebConfig.WriteTimeout]]</td></tr>
					<tr><td>Max Header Bytes</td><td>[[.WebConfig.MaxHeaderBytes]]</td></tr>
					<tr><td>Min TLS Version</td><td>[[.WebConfig.MinTLSVersion]]</td></tr>
					<tr><td>Certificate File</td><td>[[.WebConfig.CertFile]]</td></tr>
					<tr><td>Key File</td><td>[[.WebConfig.KeyFile]]</td></tr>
					<tr><td>Max Upload Memory</td><td>[[.WebConfig.MaxUploadMemoryMB]]</td></tr>
					<tr><td>Port</td><td>[[.WebConfig.Port]]</td></tr>
				</tbody>
			</table>
		</div> <!-- columns -->
		<div class="column">
			<h4>Data Usage</h4>
			[[with .Overview.InstanceStats]]
			<table class="overview table">
				<tbody>
					<tr><td>Database Size</td><td>[[.Size.Data]]</td></tr>
					<tr><td>Image Size</td><td>[[.Size.Image]]</td></tr>
					<tr><td>Search Index Size</td><td>[[.Size.Search]]</td></tr>
					<tr><td>Total Size</td><td>[[.Size.Total]]</td></tr>
				</tbody>
			</table>
			[[end]]
		
		</div> <!-- column -->
	</div> <!-- columns -->
</section>
[[end]]

[[define "settings"]]
<p>Settings</p>
[[end]]
[[define "logs"]]
<p>Logs</p>
[[end]]
[[define "registration"]]
<p>Registration</p>
[[end]]
