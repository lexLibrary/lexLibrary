<!DOCTYPE html>
<html lang="en">

<head>
	[[template "header"]]
	<title>Sign Up - Lex Library</title>
</head>

<body>
<div class="page-container">
	<div id="signup" class="form-auth text-center page-content">
		<form @submit="signup('[[.Token]]', $event)">
				<!-- <img class="mb-4" src="" alt="" width="72" height="72"> -->
				<!-- TODO: Add logo -->
			<h1 class="h3 mb-3 font-weight-normal">Join Lex Library</h1>

			<div class="position-relative">
				<label class="sr-only" for="inputUsername">Username</label>
				<input v-model="username" v-focus @blur="validateUsername" @keydown="usernameErr=null" type="text" 
					maxlength="[[fieldMax `user.username`]]" :class="{'is-invalid': usernameErr}" class="form-control input-top" 
					id="inputUsername" placeholder="Enter username">
				<div class="invalid-tooltip">{{usernameErr}}</div>
			</div>
			<div class="position-relative">
				<label class="sr-only" for="inputPassword">Password</label>
				<input v-model="password" @blur="validatePassword" @keydown="passwordErr=null" type="password" 
					:class="{'is-invalid': passwordErr}" class="form-control input-middle" id="inputPassword"	
					placeholder="Enter password">
				<div class="invalid-tooltip">{{passwordErr}}</div>
			</div>
			<div class="position-relative">
				<label class="sr-only" for="inputPassword2">Verify Password</label>
				<input v-model="password2" @blur="validatePassword2" @keydown="password2Err=null"	type="password" 
					:class="{'is-invalid': password2Err}" class="form-control input-bottom" id="inputPassword2" 
					placeholder="Enter password again">
				<div class="invalid-tooltip">{{password2Err}}</div>
			</div>
			<button type="submit" id="submit" :class="{'loading': loading}" class="btn btn-lg btn-primary btn-block">
				Sign Up
			</button>
		</form>
	</div> <!-- #signup -->
	<div class="d-none d-md-block">
		[[template "footer" .]]
	</div>
</div>
</body>
<script src="/js/vue.js"></script>
<script src="/js/signup.js"></script>

</html>
